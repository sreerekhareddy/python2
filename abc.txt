def create_new_branch(new_branch):
    """Create a new branch if it doesn't exist, else checkout the existing one."""
    print(f"Checking if branch {new_branch} exists...")

    # Check if the branch exists locally or remotely
    branch_exists = False
    try:
        # List all branches (both local and remote)
        result = subprocess.run(f"git branch --all", shell=True, check=True, capture_output=True, text=True)
        if new_branch in result.stdout:
            branch_exists = True
            print(f"Branch {new_branch} exists, checking out...")
    except subprocess.CalledProcessError as e:
        print(f"Error checking for existing branches: {e.stderr}")
    
    if branch_exists:
        # Checkout to the existing branch
        run_command(f"git checkout {new_branch}")
    else:
        # Create and checkout to the new branch
        print(f"Creating new branch: {new_branch}")
        run_command(f"git checkout -b {new_branch}")
